<section class="background" style="background-color: #fff3cf;">
  <div class="container">
    <div class="space"></div>
    <div class="text-center mb-4">
      <h1 class="display-4 animate__animated animate__fadeInDown">Le tue ricette SiwFood</h1>
      <h5 class="animate__animated animate__fadeInUp">Un mondo culinario tutto da scoprire</h5>
    </div>
    <div class="space"></div>
    <div class="card-list">
      <div class="card" *ngFor="let ricetta of ricette">
        <div class="card-header d-flex justify-content-between align-items-center bg-primary text-white animate__animated animate__fadeIn">
          <h5 class="card-title m-0">{{ ricetta.title }}</h5>
          <i class="bi bi-cookie fs-4"></i>
        </div>
        <div class="card-body d-flex align-items-center animate__animated animate__fadeIn">

          <!-- Contenitore Immagine -->
          <div class="image-container mb-3">
            <img *ngIf="ricetta.immagine1 && ricetta.immagine1.trim().length > 0"
                 [src]="ricetta.immagineUrl"
                 alt="Immagine della ricetta"
                 class="img-fluid rounded shadow-sm" loading="eager">
          </div>

            <!-- Pulsanti -->
            <div class="pulsanti d-flex flex-column gap-3 mt-3">
              <a href="/ricette/{{ ricetta.id }}" class="btn btn-success d-flex align-items-center justify-content-center rounded-pill animate__animated animate__bounceIn">
                <span class="badge bg-success">Visualizza Ricetta</span>
                <i class="bi bi-eye-fill"></i>
              </a>
              <button class="btn btn-danger d-flex align-items-center justify-content-center rounded-pill animate__animated animate__bounceIn" data-bs-toggle="modal" data-bs-target="#confirmDeleteModal" (click)="selectedRicetta = ricetta">
                <span class="badge bg-danger">Elimina Ricetta</span>
                <i class="bi bi-trash-fill"></i>
              </button>
            </div>


          </div>




        </div>
      </div>
    </div>

  <div class="modal fade" id="confirmDeleteModal" tabindex="-1" aria-labelledby="confirmDeleteModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="confirmDeleteModalLabel">Conferma Eliminazione</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Sei sicuro di voler eliminare la ricetta "{{ selectedRicetta?.title }}"?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annulla</button>
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal" (click)="deleteRicetta(selectedRicetta?.id)">Elimina</button>
        </div>
      </div>
    </div>
  </div>

  <button class="btn btn-primary btn-add-recipe rounded-circle shadow-lg">
    <a href="/nuovaricetta" class="text-white d-flex justify-content-center align-items-center w-100 h-100">
      <i class="bi bi-plus-circle-fill"></i>
    </a>
  </button>

</section>
